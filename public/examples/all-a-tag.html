<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>拦截全部 a 标签 - 演示 - 中公教育网站专题页快速构建模块</title>

    <script src="../main.js" data-redirect="0" data-type="all-a-tag" data-crm-sid="f905e07b2bff94d564ac1fa41022a633"></script>

</head>
<body>
    <h1>拦截全部 a 标签</h1>
    <h3 style="color: red;">未登录时会拦截页面上所有 a 标签的跳转操作。</h3>

    <h3>查看其他类型：<a href="lite.html">轻量版</a> / <a href="customization.html">自行实现</a> / <a href="manual.html">手动触发</a> / <a href="a-tag.html">拦截部分 a 标签</a> / <a href="redirect.html">跳转登陆</a></h3>

    <br/>

    <h2>演示：SSO 功能</h2>
    <h4>SSO 模块可以实现在某一页面、某一站点登陆后，打开任意其他站点均可免登陆。</h4>

    <h3>演示：自动填充当前登陆用户</h3>
    <div class="offcn-sso-current-user"></div>

    <br/><br/>

    <h3>演示：拦截全部 a 标签</h3>
    <a href="https://www.baidu.com">a 标签 1</a>
    <br/>
    <a href="https://www.offcn.com">a 标签 2</a>
    <br/>
    <a href="https://jl.offcn.com">a 标签 3</a>

    <br/><br/>

    <h3>演示：退出登陆</h3>
    <h4>Tips: 给需要绑定退出登陆功能的元素增加名称为 offcn-sso-logout 的 class 即可。</h4>
    <div class="offcn-sso-logout">点击此处退出登陆</div>

    <br/><br/>

    <h2>演示：自动填充</h2>

    <h3>演示：链接填充个人推广后缀</h3>
    <a href="https://www.offcn.com" class="offcn-suffix-link">向需要填充的 a 标签增加名称为 offcn-suffix-link 的 class 即可。</a>

    <br/><br/>

    <h3>演示：填充 可以与个人后缀联动的 智齿咨询</h3>
    <div class="offcn-contact-information-zhichi">向需要填充的元素增加名称为 offcn-contact-information-zhichi 的 class 即可。（ 点击本行文本即可打开智齿咨询 ）</div>

    <br/><br/>

    <h3>演示：填充 可以与个人后缀联动的 微信 企业微信二维码</h3>
    <p>向需要填充的 img 标签增加名称为 offcn-contact-information-wechat-work 的 class 即可。</p>
    <img class="offcn-contact-information-wechat-work" alt="微信 企业微信">

    <br/><br/>

    <h3>演示：填充 可以与个人后缀联动的 咨询电话</h3>
    <h4>演示：填充仅文本类型的咨询电话</h4>
    <span class="offcn-contact-information-phone-text"></span> 向需要填充咨询电话的元素增加名称为 offcn-contact-information-phone-text 的 class 即可。填充过程会替换元素内的 html 文本。
    <h4>演示：填充仅拨打电话类型的咨询电话 ( 拨打电话功能仅适配移动端 ) </h4>
    <span class="offcn-contact-information-phone-call">点击咨询</span> ，向需要填充咨询电话的元素增加名称为 offcn-contact-information-phone-call 的 class 即可。
    <h4>演示：填充文本加拨打电话类型的咨询电话 ( 拨打电话功能仅适配移动端 ) ( 支持配置前缀后缀 ) </h4>
    <span class="offcn-contact-information-phone" data-perfix="前缀" data-suffix="后缀"></span>，向需要填充咨询电话的元素增加名称为 offcn-contact-information-phone 的 class 即可。填充过程会替换元素内的 html 文本。支持通过 data-perfix 属性配置前缀、通过 data-suffix 属性配置后缀。

    <br/><br/>

    <h2 style="color: red;">本地调试</h2>
    <p style="color: red;">拦截全部 a 标签模式的模块由于需要在 [ 当前域名/ssogateway/v1/ ] 路径下与 SSO 模块进行交互，所以无法以常规方式在本地进行调试。 </p>
    <p>如需在本地进行调试请使用专用的辅助工具：<a href="https://libs.eoffcn.com/sso/reverse.zip?202109261453" target="_blank" rel="nofollow">本地测试反向代理工具下载</a>。</p>
    <p>zip包解压后开发者可根据自己的操作系统类型选择使用，如下以linux为例：</p>
    <style>
        table {
            padding: 0;
        }
        thead {
            background: #f0f0f0 center right no-repeat;
        }
        th, td {
            border: 1px solid #ddd;
        }
    </style>
    <table>
        <thead>
        <tr>
            <th>启动参数和Demo</th>
            <th>备注</th>
            <th>说明</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><p>gateway</p><p>$./reverse_linux --gateway=39.105.37.226</p></td>
            <td><p>默认值：测试网关地址</p><p style="color: rgb(128,128,128);">基本无需配置</p></td>
            <td>所有 http://*/ssogateway/v1/... 请求都会被反向代理至测试环境网关</td>
        </tr>
        <tr>
            <td><p>port</p><p>$./reverse_linux --port=80</p></td>
            <td>默认值：80</td>
            <td>本地代理工具端口</td></tr>
        <tr>
            <td><p>backend</p><p>$./reverse_linux --backend=127.0.0.1:8080</p></td>
            <td><p>默认值：127.0.0.1:8080，优先级高于root</p><p>（用于反向代理服务）</p></td>
            <td><p>请求 http://127.0.0.1/a/b.html</p><p>最终会返回 http://127.0.0.1:8080/a/b.html</p></td>
        </tr>
        <tr>
            <td><p>root</p><p>$./reverse_linux --root=1</p></td>
            <td>默认值：空</td>
            <td><p>请求 http://127.0.0.1 即可看到文件目录结构</p><p style="color: rgb(51,51,0);">（如本地没有服务，则可使用该参数将该工具放到相关目录下执行）</p></td>
        </tr>
        </tbody>
    </table>
    <p>目前支持本地的测试域名只有：localhost</p>

</body>
</html>